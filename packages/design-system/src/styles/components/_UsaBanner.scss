@use '../layout' as *;
@use '../mixins';
@use '../base' as *;

.ds-c-usa-banner {
  background-color: var(--usa-banner__background-color);
  color: var(--usa-banner__color);
  padding: 0;
}

.ds-c-usa-banner__header {
  align-items: flex-start;
  display: flex;
  font-size: 12px;
  line-height: 1.2;
  min-height: $spacer-4;
  padding: $spacer-1 $spacer-2;
  position: relative;

  @media (min-width: $media-width-sm) {
    min-height: 0;
    padding-block: $spacer-half;
  }
}

.ds-c-usa-banner__header--mobile {
  padding: 0;

  .ds-c-usa-banner__button {
    display: flex;
    padding: $spacer-1 $spacer-2;
    width: 100%;
  }

  &.ds-c-usa-banner__header--expanded {
    .ds-c-usa-banner__button {
      padding-block-end: 0;
    }
  }

  .ds-c-usa-banner__cta-wrapper {
    display: block;
  }
}

.ds-c-usa-banner__collapse-banner-container {
  align-items: center;
  background-color: var(--usa-banner-close__background-color);
  display: flex;
  height: $spacer-6;
  justify-content: center;
  margin-block-start: calc(-1 * #{$spacer-1});
  margin-inline: auto calc(-1 * #{$spacer-2});
  width: $spacer-6;

  .ds-c-icon {
    height: var(--font-size-lg);
    width: var(--font-size-lg);
  }
}

.ds-c-usa-banner__header-flag {
  height: 11px;
  margin-inline-end: $spacer-1;
  width: $spacer-2;
}

.ds-c-usa-banner__header-text {
  display: inline;
  margin: 0;
  span {
    margin-inline-end: $spacer-1;
  }
}

.ds-c-usa-banner__header-action {
  color: var(--usa-banner-action__color);
  display: block;
  margin-block: 2px 0;
  text-decoration: underline;
}

.ds-c-usa-banner__button {
  background-color: transparent;
  border: 0;
  bottom: 0;
  box-shadow: none;
  margin: 0;
  padding: 0;
  text-align: left;

  &:focus {
    @include mixins.focus-styles;
  }
}

.ds-c-usa-banner__button-text {
  @extend .ds-c-link;
}

.ds-c-usa-banner__content {
  margin-inline: auto;
  overflow: hidden;
  padding: 4px $spacer-2 $spacer-2 $spacer-1;

  @media (min-width: $media-width-sm) {
    padding-block: $spacer-3;
  }
}

.ds-c-usa-banner__guidance-container {
  display: flex;
  flex-direction: column;

  @media (min-width: $media-width-sm) {
    flex-flow: row nowrap;
  }
}

.ds-c-usa-banner__guidance {
  align-items: flex-start;
  display: flex;
  max-width: 64ex;
  padding: $spacer-2 12px 0 12px;

  @media (min-width: $media-width-sm) {
    padding: 0 $spacer-1;
    width: 50%;
  }
}

.ds-c-usa-banner__icon {
  flex-shrink: 0;
  height: $spacer-5;
  margin-inline-end: $spacer-1;
  width: $spacer-5;

  &.ds-c-icon--lock-circle {
    color: var(--usa-banner-lock-icon__color);

    @media (-ms-high-contrast: active), (forced-colors: active) {
      color: WindowText;
    }
  }
}

.ds-c-usa-banner__lock-image {
  height: 0.75em;
  vertical-align: inherit;
  width: auto;

  path {
    fill: currentColor;
  }

  @media (-ms-high-contrast: active), (forced-colors: active) {
    path {
      fill: WindowText;
    }
  }
}

.ds-c-usa-banner__media-img {
  float: left;
  margin-inline-end: $spacer-1;
}

.ds-c-usa-banner__media-body {
  margin: 0;
}

.ds-c-usa-banner__header--expanded {
  @media (min-width: $media-width-sm) {
    background-color: transparent;
    padding-inline-end: 0;
    .ds-c-usa-banner__button-text::after {
      transform: rotate(180deg);
    }
  }

  .ds-c-usa-banner__header-action {
    display: none;
  }
}

.ds-c-usa-banner__action-icon {
  color: var(--usa-banner__color);
  height: 10px;
  width: 10px;
}
