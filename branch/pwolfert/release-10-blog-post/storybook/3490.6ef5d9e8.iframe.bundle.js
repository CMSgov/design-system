/*! For license information please see 3490.6ef5d9e8.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunkdesign_system=globalThis.webpackChunkdesign_system||[]).push([[3490],{"./packages/design-system/src/components/NativeDialog/NativeDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>NativeDialog_NativeDialog});var compat_module=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js"),process=__webpack_require__("./node_modules/process/browser.js");const dialogPolyfill={registerDialog:()=>{},forceRegisterDialog:()=>{}},polyfill=dialogPolyfill;"undefined"!=typeof window&&function loadDialogPolyfill(){var supportCustomEvent=window.CustomEvent;supportCustomEvent&&"object"!=typeof supportCustomEvent||((supportCustomEvent=function CustomEvent(event,x){x=x||{};var ev=document.createEvent("CustomEvent");return ev.initCustomEvent(event,!!x.bubbles,!!x.cancelable,x.detail||null),ev}).prototype=window.Event.prototype);function safeDispatchEvent(target,event){var check="on"+event.type.toLowerCase();return"function"==typeof target[check]&&target[check](event),target.dispatchEvent(event)}function findNearestDialog(el){for(;el;){if("dialog"===el.localName)return el;el=el.parentElement?el.parentElement:el.parentNode?el.parentNode.host:null}return null}function safeBlur(el){for(;el&&el.shadowRoot&&el.shadowRoot.activeElement;)el=el.shadowRoot.activeElement;el&&el.blur&&el!==document.body&&el.blur()}function inNodeList(nodeList,node){for(var i=0;i<nodeList.length;++i)if(nodeList[i]===node)return!0;return!1}function isFormMethodDialog(el){return!(!el||!el.hasAttribute("method"))&&"dialog"===el.getAttribute("method").toLowerCase()}function findFocusableElementWithin(hostElement){var query=["button","input","keygen","select","textarea"].map((function(el){return el+":not([disabled])"}));query.push('[tabindex]:not([disabled]):not([tabindex=""])');var target=hostElement.querySelector(query.join(", "));if(!target&&"attachShadow"in Element.prototype)for(var elems=hostElement.querySelectorAll("*"),i=0;i<elems.length&&!(elems[i].tagName&&elems[i].shadowRoot&&(target=findFocusableElementWithin(elems[i].shadowRoot)));i++);return target}function isConnected(element){return element.isConnected||document.body.contains(element)}function findFormSubmitter(event){if(event.submitter)return event.submitter;var form=event.target;if(!(form instanceof HTMLFormElement))return null;var submitter=dialogPolyfill.formSubmitter;if(!submitter){var target=event.target;submitter=("getRootNode"in target&&target.getRootNode()||document).activeElement}return submitter&&submitter.form===form?submitter:null}function maybeHandleSubmit(event){if(!event.defaultPrevented){var form=event.target,value=dialogPolyfill.imagemapUseValue,submitter=findFormSubmitter(event);null===value&&submitter&&(value=submitter.value);var dialog=findNearestDialog(form);if(dialog)"dialog"===(submitter&&submitter.getAttribute("formmethod")||form.getAttribute("method"))&&(event.preventDefault(),null!=value?dialog.close(value):dialog.close())}}function dialogPolyfillInfo(dialog){if(this.dialog_=dialog,this.replacedStyleTop_=!1,this.openAsModal_=!1,dialog.hasAttribute("role")||dialog.setAttribute("role","dialog"),dialog.show=this.show.bind(this),dialog.showModal=this.showModal.bind(this),dialog.close=this.close.bind(this),dialog.addEventListener("submit",maybeHandleSubmit,!1),"returnValue"in dialog||(dialog.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(dialog,{attributes:!0,attributeFilter:["open"]})}else{var timeout,removed=!1,cb=function(){removed?this.downgradeModal():this.maybeHideModal(),removed=!1}.bind(this),delayModel=function(ev){if(ev.target===dialog){var cand="DOMNodeRemoved";removed|=ev.type.substr(0,14)===cand,window.clearTimeout(timeout),timeout=window.setTimeout(cb,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(name){dialog.addEventListener(name,delayModel)}))}Object.defineProperty(dialog,"open",{set:this.setOpen.bind(this),get:dialog.hasAttribute.bind(dialog,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}if(dialogPolyfillInfo.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&isConnected(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),dialogPolyfill.dm.removeDialog(this))},setOpen:function(value){value?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var fake=document.createElement("div");this.dialog_.insertBefore(fake,this.dialog_.firstChild),fake.tabIndex=-1,fake.focus(),this.dialog_.removeChild(fake)}var redirectedEvent=document.createEvent("MouseEvents");redirectedEvent.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(redirectedEvent),e.stopPropagation()},focus_:function(){var target=this.dialog_.querySelector("[autofocus]:not([disabled])");!target&&this.dialog_.tabIndex>=0&&(target=this.dialog_),target||(target=findFocusableElementWithin(this.dialog_)),safeBlur(document.activeElement),target&&target.focus()},updateZIndex:function(dialogZ,backdropZ){if(dialogZ<backdropZ)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=dialogZ,this.backdrop_.style.zIndex=backdropZ},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!isConnected(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!dialogPolyfill.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function createsStackingContext(el){for(;el&&el!==document.body;){var s=window.getComputedStyle(el),invalid=function(k,ok){return!(void 0===s[k]||s[k]===ok)};if(s.opacity<1||invalid("zIndex","auto")||invalid("transform","none")||invalid("mixBlendMode","normal")||invalid("filter","none")||invalid("perspective","none")||"isolate"===s.isolation||"fixed"===s.position||"touch"===s.webkitOverflowScrolling)return!0;el=el.parentElement}return!1})(this.dialog_.parentElement)&&!function isNodeTestEnv(){return"object"==typeof process&&"object"==typeof process.env&&!1}()&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,dialogPolyfill.needsCentering(this.dialog_)?(dialogPolyfill.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(opt_returnValue){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==opt_returnValue&&(this.dialog_.returnValue=opt_returnValue);var closeEvent=new supportCustomEvent("close",{bubbles:!1,cancelable:!1});safeDispatchEvent(this.dialog_,closeEvent)}},dialogPolyfill.reposition=function(element){var scrollTop=document.body.scrollTop||document.documentElement.scrollTop,topValue=scrollTop+(window.innerHeight-element.offsetHeight)/2;element.style.top=Math.max(scrollTop,topValue)+"px"},dialogPolyfill.isInlinePositionSetByStylesheet=function(element){for(var i=0;i<document.styleSheets.length;++i){var styleSheet=document.styleSheets[i],cssRules=null;try{cssRules=styleSheet.cssRules}catch(e){}if(cssRules)for(var j=0;j<cssRules.length;++j){var rule=cssRules[j],selectedNodes=null;try{selectedNodes=document.querySelectorAll(rule.selectorText)}catch(e){}if(selectedNodes&&inNodeList(selectedNodes,element)){var cssTop=rule.style.getPropertyValue("top"),cssBottom=rule.style.getPropertyValue("bottom");if(cssTop&&"auto"!==cssTop||cssBottom&&"auto"!==cssBottom)return!0}}}return!1},dialogPolyfill.needsCentering=function(dialog){return"absolute"===window.getComputedStyle(dialog).position&&(!("auto"!==dialog.style.top&&""!==dialog.style.top||"auto"!==dialog.style.bottom&&""!==dialog.style.bottom)&&!dialogPolyfill.isInlinePositionSetByStylesheet(dialog))},dialogPolyfill.forceRegisterDialog=function(element){if(element.showModal&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",element),"dialog"!==element.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new dialogPolyfillInfo(element)},dialogPolyfill.registerDialog=function(element){element.showModal||dialogPolyfill.forceRegisterDialog(element)},dialogPolyfill.DialogManager=function(){this.pendingDialogStack=[];var checkDOM=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),checkDOM([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(records){var removed=[];records.forEach((function(rec){for(var c,i=0;c=rec.removedNodes[i];++i)c instanceof Element&&("dialog"===c.localName&&removed.push(c),removed=removed.concat(c.querySelectorAll("dialog")))})),removed.length&&checkDOM(removed)})))},dialogPolyfill.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},dialogPolyfill.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},dialogPolyfill.DialogManager.prototype.updateStacking=function(){for(var dpi,zIndex=this.zIndexHigh_,i=0;dpi=this.pendingDialogStack[i];++i)dpi.updateZIndex(--zIndex,--zIndex),0===i&&(this.overlay.style.zIndex=--zIndex);var last=this.pendingDialogStack[0];last?(last.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},dialogPolyfill.DialogManager.prototype.containedByTopDialog_=function(candidate){for(;candidate=findNearestDialog(candidate);){for(var dpi,i=0;dpi=this.pendingDialogStack[i];++i)if(dpi.dialog===candidate)return 0===i;candidate=candidate.parentElement}return!1},dialogPolyfill.DialogManager.prototype.handleFocus_=function(event){var target=event.composedPath?event.composedPath()[0]:event.target;if(!this.containedByTopDialog_(target)&&document.activeElement!==document.documentElement&&(event.preventDefault(),event.stopPropagation(),safeBlur(target),void 0!==this.forwardTab_)){var dpi=this.pendingDialogStack[0];return dpi.dialog.compareDocumentPosition(target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?dpi.focus_():target!==document.documentElement&&document.documentElement.focus()),!1}},dialogPolyfill.DialogManager.prototype.handleKey_=function(event){if(this.forwardTab_=void 0,27===event.keyCode){event.preventDefault(),event.stopPropagation();var cancelEvent=new supportCustomEvent("cancel",{bubbles:!1,cancelable:!0}),dpi=this.pendingDialogStack[0];dpi&&safeDispatchEvent(dpi.dialog,cancelEvent)&&dpi.dialog.close()}else 9===event.keyCode&&(this.forwardTab_=!event.shiftKey)},dialogPolyfill.DialogManager.prototype.checkDOM_=function(removed){this.pendingDialogStack.slice().forEach((function(dpi){-1!==removed.indexOf(dpi.dialog)?dpi.downgradeModal():dpi.maybeHideModal()}))},dialogPolyfill.DialogManager.prototype.pushDialog=function(dpi){var allowed=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=allowed)&&(1===this.pendingDialogStack.unshift(dpi)&&this.blockDocument(),this.updateStacking(),!0)},dialogPolyfill.DialogManager.prototype.removeDialog=function(dpi){var index=this.pendingDialogStack.indexOf(dpi);-1!==index&&(this.pendingDialogStack.splice(index,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},dialogPolyfill.dm=new dialogPolyfill.DialogManager,dialogPolyfill.formSubmitter=null,dialogPolyfill.imagemapUseValue=null,void 0===window.HTMLDialogElement){var testForm=document.createElement("form");if(testForm.setAttribute("method","dialog"),"dialog"!==testForm.method){var methodDescriptor=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(methodDescriptor){var realGet=methodDescriptor.get;methodDescriptor.get=function(){return isFormMethodDialog(this)?"dialog":realGet.call(this)};var realSet=methodDescriptor.set;methodDescriptor.set=function(v){return"string"==typeof v&&"dialog"===v.toLowerCase()?this.setAttribute("method",v):realSet.call(this,v)},Object.defineProperty(HTMLFormElement.prototype,"method",methodDescriptor)}}document.addEventListener("click",(function(ev){if(dialogPolyfill.formSubmitter=null,dialogPolyfill.imagemapUseValue=null,!ev.defaultPrevented){var target=ev.target;if("composedPath"in ev)target=ev.composedPath().shift()||target;if(target&&isFormMethodDialog(target.form)){if(!("submit"===target.type&&["button","input"].indexOf(target.localName)>-1)){if("input"!==target.localName||"image"!==target.type)return;dialogPolyfill.imagemapUseValue=ev.offsetX+","+ev.offsetY}findNearestDialog(target)&&(dialogPolyfill.formSubmitter=target)}}}),!1),document.addEventListener("submit",(function(ev){var form=ev.target;if(!findNearestDialog(form)){var submitter=findFormSubmitter(ev);"dialog"===(submitter&&submitter.getAttribute("formmethod")||form.getAttribute("method"))&&ev.preventDefault()}}));var nativeFormSubmit=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!isFormMethodDialog(this))return nativeFormSubmit.call(this);var dialog=findNearestDialog(this);dialog&&dialog.close()}}}();var jsx_runtime=__webpack_require__("./node_modules/preact/compat/jsx-runtime.mjs");const NativeDialog=_ref=>{let{children,exit,isOpen,showModal,backdropClickExits,boundingBoxRef,...dialogProps}=_ref;const dialogRef=(0,compat_module.useRef)(null);return void 0===isOpen&&(isOpen=!0),(0,compat_module.useLayoutEffect)((()=>{polyfill.registerDialog(dialogRef.current)})),(0,compat_module.useEffect)((()=>{const dialogNode=dialogRef.current;let closingBecauseOfProp=!1;isOpen?dialogNode.open||(showModal?dialogNode.showModal():dialogNode.show()):dialogNode.open&&(dialogNode.close(),closingBecauseOfProp=!0);const handleClose=event=>{event.preventDefault(),closingBecauseOfProp||exit(event)};return dialogNode.addEventListener("close",handleClose),()=>{dialogNode.removeEventListener("close",handleClose)}}),[isOpen,showModal,exit]),(0,compat_module.useEffect)((()=>{if(!backdropClickExits)return;const dialogNode=dialogRef.current,handleClick=event=>{const rect=(boundingBoxRef?.current??dialogRef.current).getBoundingClientRect();rect.top<=event.clientY&&event.clientY<=rect.top+rect.height&&rect.left<=event.clientX&&event.clientX<=rect.left+rect.width||exit()};return dialogNode.addEventListener("click",handleClick),()=>{dialogNode.removeEventListener("click",handleClick)}}),[exit,backdropClickExits]),(0,jsx_runtime.tZ)("dialog",{ref:dialogRef,...dialogProps,children})};NativeDialog.displayName="NativeDialog";const NativeDialog_NativeDialog=NativeDialog;try{NativeDialog.displayName="NativeDialog",NativeDialog.__docgenInfo={description:"This is an internal component and may change without warning. Use at your own risk!",displayName:"NativeDialog",props:{backdropClickExits:{defaultValue:null,description:"Pass `true` to have the dialog close when its backdrop pseudo-element is clicked",name:"backdropClickExits",required:!1,type:{name:"boolean"}},boundingBoxRef:{defaultValue:null,description:"",name:"boundingBoxRef",required:!1,type:{name:"MutableRefObject<any>"}},isOpen:{defaultValue:null,description:"Controls whether the dialog is in an open state",name:"isOpen",required:!1,type:{name:"boolean"}},exit:{defaultValue:null,description:"Function called to close dialog.",name:"exit",required:!0,type:{name:"(...args: any[]) => any"}},id:{defaultValue:null,description:"A custom `id` attribute for the dialog element",name:"id",required:!1,type:{name:"string"}},showModal:{defaultValue:null,description:"Determines which native dialog method is called to open the dialog. If the dialog\nis opened with `showModal`, focus will be trapped inside the dialog, and it will\nneed to be closed before the rest of the page can be interacted with. See the\n[`showModal` MDN documentation](https://developer.mozilla.org/en-US/docs/Web/API/HTMLDialogElement/showModal)\nfor more details.",name:"showModal",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/design-system/src/components/NativeDialog/NativeDialog.tsx#NativeDialog"]={docgenInfo:NativeDialog.__docgenInfo,name:"NativeDialog",path:"packages/design-system/src/components/NativeDialog/NativeDialog.tsx#NativeDialog"})}catch(__react_docgen_typescript_loader_error){}},"./packages/design-system/src/components/analytics/getAnalyticsContentFromRefs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getAnalyticsContentFromRefs(refs){return refs.map((ref=>ref.current?.textContent)).find((textContent=>textContent))}__webpack_require__.d(__webpack_exports__,{L:()=>getAnalyticsContentFromRefs,Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=getAnalyticsContentFromRefs},"./packages/design-system/src/components/utilities/useId.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useId});var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/uniqueId.js"),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");function useId(prefix,providedId){return(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(providedId??lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()(prefix)).current}},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/lodash/uniqueId.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toString=__webpack_require__("./node_modules/lodash/toString.js"),idCounter=0;module.exports=function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}}}]);