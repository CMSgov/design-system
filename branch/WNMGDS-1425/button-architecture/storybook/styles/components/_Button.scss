@import '../settings/index.scss';

.ds-c-button--big {
  --fontSize: #{$font-size-xl};
  --space: #{$spacer-2 $spacer-3};
}

.ds-c-button--small {
  --fontSize: #{$font-size-sm};
  --fontWeight: #{$font-weight-normal};
  --space: #{$spacer-half $spacer-1};
}

.ds-c-button--solid {
  &.ds-c-button--on-light {
    --color: #{$color-white};

    &.ds-c-button--main {
      --backgroundColor: #{$color-primary};
      --borderColor: #{$color-primary};

      // Hover
      &:hover,
      &.ds-c-button--hover,
      &:hover:focus,
      &.ds-c-button--hover.ds-c-button--focus {
        --backgroundColor: #{$color-primary-darker};
        --borderColor: #{$color-primary-darker};
      }

      // Active
      &:active,
      &.ds-c-button--active,
      &:active:focus,
      &.ds-c-button--active:focus {
        --backgroundColor: #{$color-primary-darkest};
        --borderColor: #{$color-primary-darkest};
      }
    }

    &.ds-c-button--alternate {
      --backgroundColor: #{$color-green};
      --borderColor: #{$color-green};

      // Hover
      &:hover,
      &.ds-c-button--hover,
      &:hover:focus,
      &.ds-c-button--hover.ds-c-button--focus {
        --backgroundColor: #{$color-green-darker};
        --borderColor: #{$color-green-darker};
      }

      // Active
      &:active,
      &.ds-c-button--active,
      &:active:focus,
      &.ds-c-button--active:focus {
        --backgroundColor: #{$color-green-darkest};
        --borderColor: #{$color-green-darkest};
      }
    }

    &:disabled,
    &.ds-c-button--disabled {
      --backgroundColor: #{$color-gray-lighter};
      --borderColor: #{$color-gray-lighter};
      --color: #{$color-gray-dark};
    }
  }
  &.ds-c-button--on-dark {
    --color: #{$color-base};

    &.ds-c-button--main {
      --backgroundColor: #{$color-primary-alt-lightest};
      --borderColor: #{$color-primary-alt-lightest};

      // Hover
      &:hover,
      &.ds-c-button--hover,
      &:hover:focus,
      &.ds-c-button--hover.ds-c-button--focus {
        --backgroundColor: #{$color-primary-alt-light};
        --borderColor: #{$color-primary-alt-light};
      }

      // Active
      &:active,
      &.ds-c-button--active,
      &:active:focus,
      &.ds-c-button--active:focus {
        --backgroundColor: #{$color-primary-alt};
        --borderColor: #{$color-primary-alt};
      }
    }

    &.ds-c-button--alternate {
      --backgroundColor: #{$color-green-lightest};
      --borderColor: #{$color-green-lightest};

      // Hover
      &:hover,
      &.ds-c-button--hover,
      &:hover:focus,
      &.ds-c-button--hover.ds-c-button--focus {
        --backgroundColor: #{$color-green-lighter};
        --borderColor: #{$color-green-lighter};
      }

      // Active
      &:active,
      &.ds-c-button--active,
      &:active:focus,
      &.ds-c-button--active:focus {
        --backgroundColor: #{$color-green-light};
        --borderColor: #{$color-green-light};
      }
    }

    &:disabled,
    &.ds-c-button--disabled {
      --backgroundColor: #{$color-gray-lighter};
      --borderColor: #{$color-gray-lighter};
      --color: #{$color-gray-dark};
    }
  }
}

.ds-c-button--outline {
  --backgroundColor: transparent;
  --borderColor: currentColor;

  &.ds-c-button--on-light {
    --color: #{$color-primary};

    // Hover
    &:hover,
    &.ds-c-button--hover,
    &:hover:focus,
    &.ds-c-button--hover.ds-c-button--focus {
      --backgroundColor: #{$color-gray-lightest};
      --color: #{$color-primary-darker};
    }

    // Active
    &:active,
    &.ds-c-button--active,
    &:active:focus,
    &.ds-c-button--active:focus {
      --backgroundColor: #{$color-gray-lighter};
      --color: #{$color-primary-darkest};
    }

    &.ds-c-button--main,
    &.ds-c-button--alternate {
      // Only main outline styles approved, moving `.ds-c-button--main`
      // styles up a level to apply when both main or alternate specified.
    }

    &:disabled,
    &.ds-c-button--disabled {
      --color: #{$color-gray-lighter};
    }
  }

  &.ds-c-button--on-dark {
    --color: #{$color-white};

    // Hover
    &:hover,
    &.ds-c-button--hover,
    &:hover:focus,
    &.ds-c-button--hover.ds-c-button--focus {
      // TODO: Replace with alpha 80 white (does this exist?)
      --color: hsl(0deg 0% 80%);
    }

    // Active
    &:active,
    &.ds-c-button--active,
    &:active:focus,
    &.ds-c-button--active:focus {
      // TODO: Replace with alpha 60 white (does this exist?)
      --color: hsl(0deg 0% 60%);
    }

    &.ds-c-button--main,
    &.ds-c-button--alternate {
      // Only main outline styles approved, moving `.ds-c-button--main`
      // styles up a level to apply when both main or alternate specified.
    }

    &:disabled,
    &.ds-c-button--disabled {
      // ðŸ“¢ Disabled and default colors look very close
      --color: #{$color-muted-inverse};
    }
  }
}

.ds-c-button--link {
  --backgroundColor: transparent;
  --borderColor: transparent;

  &.ds-c-button--on-light {
    --color: #{$color-primary};

    // Hover
    &:hover,
    &.ds-c-button--hover,
    &:hover:focus,
    &.ds-c-button--hover.ds-c-button--focus {
      --color: #{$color-primary-darker};
    }

    // Active
    &:active,
    &.ds-c-button--active,
    &:active:focus,
    &.ds-c-button--active:focus {
      --color: #{$color-primary-darkest};
    }

    &.ds-c-button--main,
    &.ds-c-button--alternate {
      // Only main outline styles approved, moving `.ds-c-button--main`
      // styles up a level to apply when both main or alternate specified.
    }

    &:disabled,
    &.ds-c-button--disabled {
      --color: #{$color-gray-lighter};
    }
  }

  &.ds-c-button--on-dark {
    --color: #{$color-white};

    // Hover
    &:hover,
    &.ds-c-button--hover,
    &:hover:focus,
    &.ds-c-button--hover.ds-c-button--focus {
      // TODO: Replace with alpha 80 white (does this exist?)
      --color: hsl(0deg 0% 80%);
    }

    // Active
    &:active,
    &.ds-c-button--active,
    &:active:focus,
    &.ds-c-button--active:focus {
      // TODO: Replace with alpha 60 white (does this exist?)
      --color: hsl(0deg 0% 60%);
    }

    &.ds-c-button--main,
    &.ds-c-button--alternate {
      // Only main outline styles approved, moving `.ds-c-button--main`
      // styles up a level to apply when both main or alternate specified.
    }

    &:disabled,
    &.ds-c-button--disabled {
      --color: #{$color-muted-inverse};
    }
  }
}

.ds-c-button,
.ds-c-button:visited {
  appearance: none;
  background-color: var(--backgroundColor, $button__background-color);
  border: $button__border-width solid var(--borderColor, $button__border-color);
  border-radius: $button__border-radius;
  color: var(--color, $button__color);
  cursor: pointer;
  font-family: $font-sans;
  font-size: var(--fontSize, $font-size-base);
  font-weight: var(--fontWeight, $font-weight-bold);
  line-height: 1.3;
  text-align: center;
  text-decoration-color: transparent;
  display: inline-block;
  padding: var(--space, $spacer-1 $spacer-3);

  > svg {
    @include inline-icon;
  }

  &.ds-c-button--link {
    text-decoration: underline;
  }

  &:focus,
  &.ds-c-button--focus {
    @include focus-styles;
    // text-decoration: none; ðŸš¨
  }

  // Removes inner outline on buttons in Firefox.
  &::-moz-focus-inner {
    // border: 0; ðŸš¨
    border-color: transparent;
  }

  // Make sure active overrides focus styles
  &:active:focus,
  &.ds-c-button--active:focus {
    box-shadow: none;
  }

  &:disabled,
  &.ds-c-button--disabled {
    pointer-events: none; // Needed to render disabled links correctly
  }
}

// @media (-ms-high-contrast: active), (forced-colors: active) {
//   .ds-c-button {
//     &:hover,
//     &.ds-c-button--hover,
//     &:active,
//     &.ds-c-button--active {
//       text-decoration: underline;
//     }

//     &:disabled,
//     &.ds-c-button--disabled {
//       border-color: GrayText;
//       color: GrayText;
//     }

//     &:is(button:disabled) {
//       cursor: not-allowed;
//       pointer-events: initial;
//     }

//     &,
//     &:disabled,
//     &.ds-c-button--disabled {
//       text-decoration: none;
//     }

//     &.ds-c-button--transparent {
//       border: 0;

//       &:hover,
//       &.ds-c-button--hover,
//       &:active,
//       &.ds-c-button--active {
//         text-decoration: none;
//       }

//       &,
//       &:disabled,
//       &.ds-c-button--disabled {
//         text-decoration: underline;
//       }
//     }
//   }
// }
