"use strict";(self.webpackChunkdesign_system=self.webpackChunkdesign_system||[]).push([[450],{"./packages/design-system/src/components/PrivacySettingsDialog/PrivacySettingsDialog.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return PrivacySettingsDialog_stories}});var compat_module=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js"),ChoiceList=__webpack_require__("./packages/design-system/src/components/ChoiceList/ChoiceList.tsx"),TableRow=__webpack_require__("./packages/design-system/src/components/Table/TableRow.tsx"),TableCell=__webpack_require__("./packages/design-system/src/components/Table/TableCell.tsx"),Table=__webpack_require__("./packages/design-system/src/components/Table/Table.tsx"),TableHead=__webpack_require__("./packages/design-system/src/components/Table/TableHead.tsx"),TableBody=__webpack_require__("./packages/design-system/src/components/Table/TableBody.tsx"),i18n=__webpack_require__("./packages/design-system/src/components/i18n.ts"),jsx_runtime=__webpack_require__("./node_modules/preact/compat/jsx-runtime.mjs"),PrivacySettingsTable=function PrivacySettingsTable(_ref){var domain=_ref.domain,privacySettings=_ref.privacySettings,setPrivacySetting=_ref.setPrivacySetting;function renderToggle(settingsKey,value,category,description){var choices=[{label:(0,i18n.t)("privacy.allow"),value:"0",checked:"0"===value},{label:(0,i18n.t)("privacy.dontAllow"),value:"1",checked:"1"===value}],label=(0,jsx_runtime.tZ)("span",{className:"ds-u-visibility--screen-reader",children:category});return(0,jsx_runtime.tZ)(ChoiceList.Z,{type:"radio",choices:choices,onChange:function onChange(event){setPrivacySetting(settingsKey,event.target.value)},className:"ds-u-margin-top--0",label:label,"aria-label":description,name:"cookie-".concat(settingsKey)})}return(0,jsx_runtime.BX)(Table.Z,{className:"ds-c-privacy-settings-table ds-u-margin-top--2 ds-u-lg-margin--0",borderless:!0,stackable:!0,stackableBreakpoint:"md",children:[(0,jsx_runtime.tZ)(TableHead.Z,{children:(0,jsx_runtime.BX)(TableRow.Z,{children:[(0,jsx_runtime.tZ)(TableCell.Z,{id:"privacy-settings-header-category",children:(0,i18n.t)("privacy.category")}),(0,jsx_runtime.tZ)(TableCell.Z,{id:"privacy-settings-header-description",children:(0,i18n.t)("privacy.description")}),(0,jsx_runtime.tZ)(TableCell.Z,{id:"privacy-settings-header-status",children:(0,i18n.t)("privacy.status")})]})}),(0,jsx_runtime.tZ)(TableBody.Z,{children:privacySettings.map((function renderRow(_ref2){var settingsKey=_ref2.settingsKey,translationKey=_ref2.translationKey,value=_ref2.value,category=(0,i18n.t)("privacy.".concat(translationKey,".category")),description=(0,i18n.t)("privacy.".concat(translationKey,".description"),{domain:domain});return(0,jsx_runtime.BX)(TableRow.Z,{children:[(0,jsx_runtime.tZ)(TableCell.Z,{headers:"privacy-settings-header-category",stackedTitle:(0,i18n.t)("privacy.category"),children:category}),(0,jsx_runtime.tZ)(TableCell.Z,{headers:"privacy-settings-header-description",stackedTitle:(0,i18n.t)("privacy.description"),children:description}),(0,jsx_runtime.tZ)(TableCell.Z,{headers:"privacy-settings-header-status",stackedTitle:(0,i18n.t)("privacy.status"),children:renderToggle(settingsKey,value,category,description)})]},settingsKey)}))})]})};PrivacySettingsTable.displayName="PrivacySettingsTable";var PrivacySettingsDialog_PrivacySettingsTable=PrivacySettingsTable;try{PrivacySettingsTable.displayName="PrivacySettingsTable",PrivacySettingsTable.__docgenInfo={description:"",displayName:"PrivacySettingsTable",props:{domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"string"}},privacySettings:{defaultValue:null,description:"",name:"privacySettings",required:!0,type:{name:"PrivacySettingsProperty[]"}},setPrivacySetting:{defaultValue:null,description:"",name:"setPrivacySetting",required:!0,type:{name:"(key: string, value: string) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/design-system/src/components/PrivacySettingsDialog/PrivacySettingsTable.tsx#PrivacySettingsTable"]={docgenInfo:PrivacySettingsTable.__docgenInfo,name:"PrivacySettingsTable",path:"packages/design-system/src/components/PrivacySettingsDialog/PrivacySettingsTable.tsx#PrivacySettingsTable"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./packages/design-system/src/components/Button/Button.tsx"),Dialog=__webpack_require__("./packages/design-system/src/components/Dialog/Dialog.tsx");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var COOKIE_MAX_AGE=1095,COOKIE_DOMAIN=function getCookieDomain(){if("undefined"==typeof window)return;var parts=window.location.hostname.split("."),tld=parts[parts.length-1],domain=parts[parts.length-2];if(domain&&"gov"===tld)return"".concat(domain,".").concat(tld)}();function readCookie(name){if("undefined"!=typeof document){var item=document.cookie.split(";").map((function(item){return item.trim().split("=")})).find((function(_ref){return _slicedToArray(_ref,1)[0]===name})),value=null==item?void 0:item[1];return"string"==typeof value?decodeURI(value):void 0}}function setPrivacySettings(settings){!function writeCookie(name,value){if("undefined"!=typeof document){var base="".concat(name,"=").concat(encodeURI(value)),age="; max-age=".concat(COOKIE_MAX_AGE),domain=COOKIE_DOMAIN?"; domain=".concat(COOKIE_DOMAIN):"";document.cookie="".concat(base).concat(age).concat(domain).concat("; path=/")}}("OPTOUTMULTI",Object.keys(settings).map((function(key){return"".concat(key,":").concat(settings[key])})).join("|"))}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}COOKIE_DOMAIN||readCookie("OPTOUTMULTI")||setPrivacySettings({0:"0",c3:"0",c2:"0",c1:"0",c4:"0"});var _excluded=["domain","privacyPolicyUrl","thirdPartyPoliciesUrl"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function PrivacySettingsDialog_slicedToArray(arr,i){return function PrivacySettingsDialog_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PrivacySettingsDialog_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function PrivacySettingsDialog_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PrivacySettingsDialog_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PrivacySettingsDialog_arrayLikeToArray(o,minLen)}(arr,i)||function PrivacySettingsDialog_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PrivacySettingsDialog_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var privacySettingConfigs=[{settingsKey:"c3",translationKey:"advertising"},{settingsKey:"c4",translationKey:"socialMedia"},{settingsKey:"c2",translationKey:"webAnalytics"}],PrivacySettingsDialog=function PrivacySettingsDialog(props){var _useState2=PrivacySettingsDialog_slicedToArray((0,compat_module.useState)(function getPrivacySettings(){var cookieString=readCookie("OPTOUTMULTI");if(!cookieString&&COOKIE_DOMAIN)throw new Error("Privacy settings error: ".concat("OPTOUTMULTI"," is not set. Check to make sure your app has Tealium enabled."));return cookieString.split("|").reduce((function(obj,pair){var _pair$split2=_slicedToArray(pair.split(":"),2),key=_pair$split2[0],value=_pair$split2[1];return obj[key]=value,obj}),{})}()),2),localPrivacySettings=_useState2[0],setLocalPrivacySettings=_useState2[1];var domain=props.domain,privacyPolicyUrl=props.privacyPolicyUrl,thirdPartyPoliciesUrl=props.thirdPartyPoliciesUrl,dialogProps=_objectWithoutProperties(props,_excluded),privacySettingsProperties=privacySettingConfigs.map((function(config){return _objectSpread(_objectSpread({},config),{},{value:localPrivacySettings[config.settingsKey]})})),intro=(0,i18n.t)("privacy.introText",{domain:domain});return intro+=" "+(0,i18n.t)("privacy.privacyPolicy",{url:privacyPolicyUrl}),thirdPartyPoliciesUrl&&(intro+=" "+(0,i18n.t)("privacy.thirdPartyPolicies",{url:thirdPartyPoliciesUrl})),intro+=".",(0,jsx_runtime.BX)(Dialog.V,_objectSpread(_objectSpread({},dialogProps),{},{heading:(0,i18n.t)("privacy.dialogTitle",{domain:domain}),size:"full",actions:(0,jsx_runtime.tZ)(Button.z,{variation:"solid",onClick:function savePrivacySettings(){setPrivacySettings(localPrivacySettings),props.onExit()},children:(0,i18n.t)("privacy.save")}),children:[(0,jsx_runtime.tZ)("p",{dangerouslySetInnerHTML:{__html:intro}}),(0,jsx_runtime.tZ)(PrivacySettingsDialog_PrivacySettingsTable,{domain:domain,privacySettings:privacySettingsProperties,setPrivacySetting:function setPrivacySetting(settingsKey,value){setLocalPrivacySettings(_objectSpread(_objectSpread({},localPrivacySettings),{},_defineProperty({},settingsKey,value)))}})]}))};PrivacySettingsDialog.displayName="PrivacySettingsDialog";var _Default$parameters,_Default$parameters2,_Default$parameters2$,PrivacySettingsDialog_PrivacySettingsDialog=PrivacySettingsDialog;try{PrivacySettingsDialog.displayName="PrivacySettingsDialog",PrivacySettingsDialog.__docgenInfo={description:"",displayName:"PrivacySettingsDialog",props:{domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"string"}},privacyPolicyUrl:{defaultValue:null,description:"",name:"privacyPolicyUrl",required:!0,type:{name:"string"}},thirdPartyPoliciesUrl:{defaultValue:null,description:"",name:"thirdPartyPoliciesUrl",required:!1,type:{name:"string"}},onExit:{defaultValue:null,description:"",name:"onExit",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/design-system/src/components/PrivacySettingsDialog/PrivacySettingsDialog.tsx#PrivacySettingsDialog"]={docgenInfo:PrivacySettingsDialog.__docgenInfo,name:"PrivacySettingsDialog",path:"packages/design-system/src/components/PrivacySettingsDialog/PrivacySettingsDialog.tsx#PrivacySettingsDialog"})}catch(__react_docgen_typescript_loader_error){}function PrivacySettingsDialog_stories_typeof(obj){return PrivacySettingsDialog_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},PrivacySettingsDialog_stories_typeof(obj)}function PrivacySettingsDialog_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function PrivacySettingsDialog_stories_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PrivacySettingsDialog_stories_ownKeys(Object(source),!0).forEach((function(key){PrivacySettingsDialog_stories_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PrivacySettingsDialog_stories_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function PrivacySettingsDialog_stories_defineProperty(obj,key,value){return(key=function PrivacySettingsDialog_stories_toPropertyKey(arg){var key=function PrivacySettingsDialog_stories_toPrimitive(input,hint){if("object"!==PrivacySettingsDialog_stories_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==PrivacySettingsDialog_stories_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===PrivacySettingsDialog_stories_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PrivacySettingsDialog_stories={title:"Components/PrivacySettingsDialog",component:PrivacySettingsDialog_PrivacySettingsDialog,args:{domain:"Test.gov",privacyPolicyUrl:"https://youtu.be/dQw4w9WgXcQ"}},Template=function Template(args){return(0,jsx_runtime.tZ)(PrivacySettingsDialog_PrivacySettingsDialog,PrivacySettingsDialog_stories_objectSpread({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=PrivacySettingsDialog_stories_objectSpread(PrivacySettingsDialog_stories_objectSpread({},Default.parameters),{},{docs:PrivacySettingsDialog_stories_objectSpread(PrivacySettingsDialog_stories_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:PrivacySettingsDialog_stories_objectSpread({originalSource:"args => <PrivacySettingsDialog {...args} />"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./packages/design-system/src/components/Dialog/Dialog.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{V:function(){return Dialog}});var compat_module=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js"),Button=__webpack_require__("./packages/design-system/src/components/Button/Button.tsx"),NativeDialog=__webpack_require__("./packages/design-system/src/components/NativeDialog/NativeDialog.tsx"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),uniqueId=__webpack_require__("./node_modules/lodash/uniqueId.js"),uniqueId_default=__webpack_require__.n(uniqueId),events=__webpack_require__("./packages/design-system/src/components/analytics/events.ts"),useAnalyticsContent=__webpack_require__("./packages/design-system/src/components/analytics/useAnalyticsContent.ts"),flags=__webpack_require__("./packages/design-system/src/components/flags.ts");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Dialog_useDialogAnalytics=function useDialogAnalytics(_ref){var analytics=_ref.analytics,analyticsLabelOverride=_ref.analyticsLabelOverride,_ref$onAnalyticsEvent=_ref.onAnalyticsEvent,onAnalyticsEvent=void 0===_ref$onAnalyticsEvent?events.Qm:_ref$onAnalyticsEvent;function sendDialogEvent(content,eventAttributes){if(!0===analytics||(0,flags.k8)()&&!1!==analytics){var eventHeadingText=null!=analyticsLabelOverride?analyticsLabelOverride:content;eventHeadingText?onAnalyticsEvent(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({event_type:events.tw.UI_INTERACTION,event_category:events.Jk.UI_COMPONENTS,event_label:eventHeadingText,event_extension:events.RW,heading:eventHeadingText},eventAttributes)):console.error("No content found for Dialog analytics event")}}return _slicedToArray((0,useAnalyticsContent.o)({componentName:"Dialog",onMount:function onMount(content){sendDialogEvent(content,{event_name:"modal_impression",event_action:"modal impression"})},onUnmount:function onUnmount(content){sendDialogEvent(content,{event_name:"modal_closed",event_action:"closed modal"})}}),1)[0]},CloseIcon=__webpack_require__("./packages/design-system/src/components/Icons/CloseIcon.tsx"),i18n=__webpack_require__("./packages/design-system/src/components/i18n.ts"),jsx_runtime=__webpack_require__("./node_modules/preact/compat/jsx-runtime.mjs");function Dialog_typeof(obj){return Dialog_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},Dialog_typeof(obj)}var _excluded=["actions","actionsClassName","alert","analytics","analyticsLabelOverride","analyticsEventTypeOverride","onAnalyticsEvent","ariaCloseLabel","children","className","closeButtonSize","closeButtonText","closeButtonVariation","closeIcon","headerClassName","heading","onEnter","onExit","size"];function Dialog_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Dialog_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Dialog_ownKeys(Object(source),!0).forEach((function(key){Dialog_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Dialog_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function Dialog_defineProperty(obj,key,value){return(key=function Dialog_toPropertyKey(arg){var key=function Dialog_toPrimitive(input,hint){if("object"!==Dialog_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==Dialog_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===Dialog_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Dialog=function Dialog(props){var actions=props.actions,actionsClassName=props.actionsClassName,ariaCloseLabel=(props.alert,props.analytics,props.analyticsLabelOverride,props.analyticsEventTypeOverride,props.onAnalyticsEvent,props.ariaCloseLabel),children=props.children,className=props.className,closeButtonSize=props.closeButtonSize,closeButtonText=props.closeButtonText,closeButtonVariation=props.closeButtonVariation,closeIcon=props.closeIcon,headerClassName=props.headerClassName,heading=props.heading,onEnter=props.onEnter,onExit=props.onExit,size=props.size,modalProps=_objectWithoutProperties(props,_excluded),dialogClassNames=classnames_default()("ds-c-dialog",className,size&&"ds-c-dialog--".concat(size)),headerClassNames=classnames_default()("ds-c-dialog__header",headerClassName),actionsClassNames=classnames_default()("ds-c-dialog__actions",actionsClassName),containerRef=(0,compat_module.useRef)();(0,compat_module.useEffect)((function(){onEnter&&onEnter()}),[]),(0,compat_module.useEffect)((function(){var _containerRef$current;null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current||_containerRef$current.focus()}),[containerRef]),(0,compat_module.useLayoutEffect)((function(){var _window$scrollY,y=null!==(_window$scrollY=window.scrollY)&&void 0!==_window$scrollY?_window$scrollY:0;return document.body.classList.add("ds--dialog-open"),document.body.style.setProperty("--body_top--dialog-open","-".concat(y,"px")),function(){document.body.classList.remove("ds--dialog-open"),window.scrollTo(0,y)}}),[]);var headingRef=Dialog_useDialogAnalytics(props),headingId=(0,compat_module.useRef)(uniqueId_default()("dialog-title_")).current;return(0,jsx_runtime.tZ)(NativeDialog.Z,Dialog_objectSpread(Dialog_objectSpread({className:dialogClassNames,showModal:!0,exit:onExit},modalProps),{},{children:(0,jsx_runtime.BX)("div",{role:"document",ref:containerRef,tabIndex:-1,"aria-labelledby":headingId,children:[(0,jsx_runtime.BX)("header",{className:headerClassNames,children:[heading&&(0,jsx_runtime.tZ)("h1",{className:"ds-h2",id:headingId,ref:headingRef,children:heading}),(0,jsx_runtime.BX)(Button.Z,{"aria-label":null!=ariaCloseLabel?ariaCloseLabel:(0,i18n.t)("dialog.ariaCloseLabel"),className:"ds-c-dialog__close",onClick:onExit,size:closeButtonSize,variation:closeButtonVariation,children:[closeIcon,null!=closeButtonText?closeButtonText:(0,i18n.t)("dialog.closeButtonText")]})]}),(0,jsx_runtime.BX)("main",{role:"main",className:"ds-c-dialog__body",children:[(0,jsx_runtime.tZ)("div",{id:"dialog-content",children:children}),actions&&(0,jsx_runtime.tZ)("div",{className:actionsClassNames,children:actions})]})]})}))};Dialog.displayName="Dialog",Dialog.defaultProps={closeButtonVariation:"ghost",closeIcon:(0,jsx_runtime.tZ)(CloseIcon.T,{})};try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{actions:{defaultValue:null,description:'Buttons or other HTML to be rendered in the "actions" bar\nat the bottom of the dialog.',name:"actions",required:!1,type:{name:"ReactNode"}},actionsClassName:{defaultValue:null,description:"Additional classes to be added to the actions container.",name:"actionsClassName",required:!1,type:{name:"string"}},alert:{defaultValue:null,description:"If `true`, the modal will receive a role of `alertdialog`, instead of its\ndefault `dialog`. The `alertdialog` role should only be used when an\nalert, error, or warning occurs.",name:"alert",required:!1,type:{name:"boolean"}},ariaCloseLabel:{defaultValue:null,description:"Aria label for the close button",name:"ariaCloseLabel",required:!1,type:{name:"string"}},backdropClickExits:{defaultValue:null,description:"Pass `true` to have the dialog close when its backdrop pseudo-element is clicked",name:"backdropClickExits",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Additional classes to be added to the root dialog element.",name:"className",required:!1,type:{name:"string"}},closeButtonSize:{defaultValue:null,description:"Size of the close button. See [Button component]({{root}}/components/button/#components.button.react)",name:"closeButtonSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},closeButtonText:{defaultValue:null,description:'For internationalization purposes, the text for the "Close" button must be\npassed in as a prop.',name:"closeButtonText",required:!1,type:{name:"ReactNode"}},closeButtonVariation:{defaultValue:{value:"ghost"},description:"Variation string to be applied to close button component. See [Button component]({{root}}/components/button/#components.button.react)",name:"closeButtonVariation",required:!1,type:{name:"enum",value:[{value:'"solid"'},{value:'"ghost"'}]}},closeIcon:{defaultValue:{value:"<CloseIcon />"},description:"The icon to display as part of the close button",name:"closeIcon",required:!1,type:{name:"ReactNode"}},headerClassName:{defaultValue:null,description:"Additional classes to be added to the header, which wraps the heading and\nclose button.",name:"headerClassName",required:!1,type:{name:"string"}},heading:{defaultValue:null,description:"The Dialog's heading, to be rendered in the header alongside the close button.",name:"heading",required:!1,type:{name:"ReactNode"}},id:{defaultValue:null,description:"A custom `id` attribute for the dialog element",name:"id",required:!1,type:{name:"string"}},onEnter:{defaultValue:null,description:"This function is called after the modal opens",name:"onEnter",required:!1,type:{name:"() => void"}},onExit:{defaultValue:null,description:'This function needs to handles the state change of exiting (or deactivating) the modal.\nMaybe it\'s just a wrapper around `setState()`; or maybe you use some more involved\nFlux-inspired state management — whatever the case, this module leaves the state\nmanagement up to you instead of making assumptions.\nThat also makes it easier to create your own "close modal" buttons; because you\nhave the function that closes the modal right there, written by you, at your disposal.',name:"onExit",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>) => void"}},size:{defaultValue:null,description:"The Dialog's size parameter.",name:"size",required:!1,type:{name:"enum",value:[{value:'"narrow"'},{value:'"wide"'},{value:'"full"'}]}},analytics:{defaultValue:null,description:"Analytics events tracking is enabled by default. Set this value to `false` to\ndisable tracking for this component instance.",name:"analytics",required:!1,type:{name:"boolean"}},analyticsLabelOverride:{defaultValue:null,description:"An override for the dynamic content sent to analytics services. By default this\ncontent comes from the heading.\n\nIn cases where this component’s heading may contain **sensitive information**,\nuse this prop to override what is sent to analytics.",name:"analyticsLabelOverride",required:!1,type:{name:"string"}},analyticsEventTypeOverride:{defaultValue:null,description:"If you need the `event_type` to be overridden for your use case, you can provide\nan alternate string here. Suggested values can be found in the EventType enum.",name:"analyticsEventTypeOverride",required:!1,type:{name:"string"}},onAnalyticsEvent:{defaultValue:null,description:"Optional callback that will intercept analytics events for this component.\nIf none is specified, the design system will use the default analytics\nfunction, which can be overwritten globally with `setDefaultAnalyticsFunction`.",name:"onAnalyticsEvent",required:!1,type:{name:"(event: AnalyticsEvent) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/design-system/src/components/Dialog/Dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"packages/design-system/src/components/Dialog/Dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}},"./packages/design-system/src/components/Icons/CloseIcon.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{T:function(){return CloseIcon}});__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");var _i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/i18n.ts"),_SvgIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/Icons/SvgIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/preact/compat/jsx-runtime.mjs");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultProps={className:"",viewBox:"0 0 16 16"};function CloseIcon(props){var iconCssClasses="ds-c-icon--close ".concat(props.className||"");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_SvgIcon__WEBPACK_IMPORTED_MODULE_2__.l,_objectSpread(_objectSpread(_objectSpread({title:(0,_i18n__WEBPACK_IMPORTED_MODULE_3__.t)("icons.close")},defaultProps),props),{},{className:iconCssClasses,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)("path",{d:"M14.647 11.213c.235.235.353.521.353.858 0 .337-.118.624-.353.859l-1.717 1.717a1.17 1.17 0 01-.86.354c-.336 0-.622-.118-.857-.354l-3.714-3.712-3.712 3.712A1.166 1.166 0 012.93 15c-.337 0-.622-.118-.859-.354L.353 12.93A1.165 1.165 0 010 12.07c0-.337.117-.623.353-.858L4.065 7.5.353 3.789A1.168 1.168 0 010 2.929c0-.336.117-.622.353-.857L2.07.353C2.307.118 2.592 0 2.93 0c.337 0 .623.118.858.353L7.5 4.065 11.213.353c.235-.235.521-.353.857-.353.337 0 .623.118.86.353l1.717 1.719c.235.235.353.521.353.857 0 .338-.118.623-.353.86L10.935 7.5l3.712 3.712z",fillRule:"evenodd"})}))}CloseIcon.displayName="CloseIcon";try{CloseIcon.displayName="CloseIcon",CloseIcon.__docgenInfo={description:"",displayName:"CloseIcon",props:{title:{defaultValue:null,description:"The descriptive name for the SVG icon",name:"title",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Additional CSS classes to be added to the svg element",name:"className",required:!1,type:{name:"string"}},inversed:{defaultValue:null,description:"If `true` sets inverse fill color.",name:"inversed",required:!1,type:{name:"boolean"}},ariaHidden:{defaultValue:null,description:"Describes the value of the `aria-hidden` attribute on the SVG. Defaulted to true with the assumption that most icons are decorative.\nIf the icon does not have any associated label text, set this to `false` and ensure a `title` is provided for improved accessibility.",name:"ariaHidden",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"Long-text description of any SVG. Use for complex icons, otherwise `title` prop will suffice.",name:"description",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"A custom `id` attribute for the SVG",name:"id",required:!1,type:{name:"string"}},viewBox:{defaultValue:null,description:"A string describing the viewbox of the SVG.\n\nIt is recommended that the icon is centered and fill up the default viewport size.\nSee [this blog post](https://webdesign.tutsplus.com/tutorials/svg-viewport-and-viewbox-for-beginners--cms-30844) for further explanation on viewBox and how to use it.",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/design-system/src/components/Icons/CloseIcon.tsx#CloseIcon"]={docgenInfo:CloseIcon.__docgenInfo,name:"CloseIcon",path:"packages/design-system/src/components/Icons/CloseIcon.tsx#CloseIcon"})}catch(__react_docgen_typescript_loader_error){}}}]);